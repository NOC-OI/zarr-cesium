"use strict";(self.webpackChunkzarr_cesium_docs=self.webpackChunkzarr_cesium_docs||[]).push([[3321],{2675:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>d,default:()=>o,frontMatter:()=>t,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"api/functions/deriveRectangleAndScheme","title":"deriveRectangleAndScheme()","description":"Computes a Cesium Rectangle and TilingScheme for a Zarr dataset.","source":"@site/docs/api/functions/deriveRectangleAndScheme.md","sourceDirName":"api/functions","slug":"/api/functions/deriveRectangleAndScheme","permalink":"/zarr-cesium/docs/docs/api/functions/deriveRectangleAndScheme","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"createShader()","permalink":"/zarr-cesium/docs/docs/api/functions/createShader"},"next":{"title":"detectCRS()","permalink":"/zarr-cesium/docs/docs/api/functions/detectCRS"}}');var s=n(4848),c=n(8453);const t={},d="deriveRectangleAndScheme()",a={},l=[{value:"Parameters",id:"parameters",level:2},{value:"Returns",id:"returns",level:2},{value:"rectangle",id:"rectangle",level:3},{value:"tilingScheme",id:"tilingscheme",level:3},{value:"Remarks",id:"remarks",level:2}];function h(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"deriverectangleandscheme",children:"deriveRectangleAndScheme()"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"function deriveRectangleAndScheme(\n   crs, \n   xyLimits, \n   levelMetadata, \n   zarrArray, \n   dimIndices): object;\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Computes a Cesium ",(0,s.jsx)(r.a,{href:"https://cesium.com/learn/cesiumjs/ref-doc/Rectangle.html",children:"Rectangle"})," and ",(0,s.jsx)(r.a,{href:"https://cesium.com/learn/cesiumjs/ref-doc/TilingScheme.html",children:"TilingScheme"})," for a Zarr dataset."]}),"\n",(0,s.jsx)(r.h2,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Parameter"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"crs"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"/zarr-cesium/docs/docs/api/type-aliases/CRS",children:(0,s.jsx)(r.code,{children:"CRS"})})}),(0,s.jsxs)(r.td,{children:["CRS code (",(0,s.jsx)(r.code,{children:"EPSG:4326"})," or ",(0,s.jsx)(r.code,{children:"EPSG:3857"}),"). See ",(0,s.jsx)(r.a,{href:"/zarr-cesium/docs/docs/api/type-aliases/CRS",children:"CRS"}),"."]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"xyLimits"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"/zarr-cesium/docs/docs/api/interfaces/XYLimitsProps",children:(0,s.jsx)(r.code,{children:"XYLimitsProps"})})}),(0,s.jsxs)(r.td,{children:["Min/max X/Y values in the dataset's CRS. See ",(0,s.jsx)(r.a,{href:"/zarr-cesium/docs/docs/api/interfaces/XYLimitsProps",children:"XYLimitsProps"}),"."]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"levelMetadata"})}),(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:"Map"}),"<",(0,s.jsx)(r.code,{children:"number"}),", ",(0,s.jsx)(r.a,{href:"/zarr-cesium/docs/docs/api/interfaces/ZarrLevelMetadata",children:(0,s.jsx)(r.code,{children:"ZarrLevelMetadata"})}),">"]}),(0,s.jsx)(r.td,{children:"Per-resolution metadata (width/height)."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"zarrArray"})}),(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:"Array"}),"<",(0,s.jsx)(r.code,{children:"any"}),">"]}),(0,s.jsx)(r.td,{children:"The Zarr array containing the data."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"dimIndices"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"/zarr-cesium/docs/docs/api/interfaces/DimIndicesProps",children:(0,s.jsx)(r.code,{children:"DimIndicesProps"})})}),(0,s.jsxs)(r.td,{children:["Mapping of dimension keys to their array indices. See ",(0,s.jsx)(r.a,{href:"/zarr-cesium/docs/docs/api/interfaces/DimIndicesProps",children:"DimIndicesProps"}),"."]})]})]})]}),"\n",(0,s.jsx)(r.h2,{id:"returns",children:"Returns"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"object"})}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"{ rectangle, tilingScheme }"})}),"\n",(0,s.jsx)(r.h3,{id:"rectangle",children:"rectangle"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"rectangle: Rectangle;\n"})}),"\n",(0,s.jsx)(r.h3,{id:"tilingscheme",children:"tilingScheme"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"tilingScheme: TilingScheme;\n"})}),"\n",(0,s.jsx)(r.h2,{id:"remarks",children:"Remarks"}),"\n",(0,s.jsx)(r.p,{children:"Behavior notes:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"The rectangle is expanded by half a pixel in all directions to avoid edge clipping."}),"\n",(0,s.jsxs)(r.li,{children:["Pixel resolution is estimated from either ",(0,s.jsx)(r.code,{children:"levelMetadata.get(0)"})," or the Zarr array shape."]}),"\n",(0,s.jsxs)(r.li,{children:["For EPSG:3857, the function interprets ",(0,s.jsx)(r.code,{children:"xyLimits"})," as Web Mercator meters and uses\n",(0,s.jsx)(r.code,{children:"WebMercatorProjection.unproject"})," to obtain geographic radians."]}),"\n",(0,s.jsx)(r.li,{children:"If any computation fails, the function falls back to a full-world tiling scheme\n(WebMercator or Geographic)."}),"\n",(0,s.jsx)(r.li,{children:"If latitude limits are reversed, they are swapped automatically."}),"\n"]})]})}function o(e={}){const{wrapper:r}={...(0,c.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>t,x:()=>d});var i=n(6540);const s={},c=i.createContext(s);function t(e){const r=i.useContext(c);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(c.Provider,{value:r},e.children)}}}]);