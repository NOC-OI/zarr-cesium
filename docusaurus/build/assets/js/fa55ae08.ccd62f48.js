"use strict";(self.webpackChunkzarr_cesium_docs=self.webpackChunkzarr_cesium_docs||[]).push([[5144],{4474:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>t,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>c,toc:()=>o});const c=JSON.parse('{"id":"api/functions/calculateSliceArgs","title":"calculateSliceArgs()","description":"Constructs Zarr slice arguments for extracting a subregion of a multidimensional array.","source":"@site/docs/api/functions/calculateSliceArgs.md","sourceDirName":"api/functions","slug":"/api/functions/calculateSliceArgs","permalink":"/zarr-cesium/docs/docs/api/functions/calculateSliceArgs","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"calculateNearestIndex()","permalink":"/zarr-cesium/docs/docs/api/functions/calculateNearestIndex"},"next":{"title":"calculateXYFromBounds()","permalink":"/zarr-cesium/docs/docs/api/functions/calculateXYFromBounds"}}');var n=r(4848),i=r(8453);const d={},l="calculateSliceArgs()",t={},o=[{value:"Parameters",id:"parameters",level:2},{value:"Returns",id:"returns",level:2}];function a(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"calculatesliceargs",children:"calculateSliceArgs()"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"function calculateSliceArgs(\n   shape, \n   dataSlice, \n   dimIndices, \n   selectors, \n   dimensionValues, \n   root, \n   levelInfo, \n   zarrVersion, \n   updateDimensionValues): Promise<{\n  dimensionValues: {\n   [key: string]: number[] | Float64Array<ArrayBufferLike>;\n  };\n  selectors: {\n   [key: string]: ZarrSelectorsProps;\n  };\n  sliceArgs: SliceArgs;\n}>;\n"})}),"\n",(0,n.jsx)(s.p,{children:"Constructs Zarr slice arguments for extracting a subregion of a multidimensional array."}),"\n",(0,n.jsx)(s.p,{children:"This function:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Converts geographic / elevation slice ranges into Zarr slice objects."}),"\n",(0,n.jsxs)(s.li,{children:["Converts value-based selectors (e.g. ",(0,n.jsx)(s.code,{children:'{type: "value", selected: 2020}'}),") into nearest index selectors."]}),"\n",(0,n.jsx)(s.li,{children:"Optionally loads dimension coordinate arrays for the selected slice."}),"\n",(0,n.jsxs)(s.li,{children:["Produces a ",(0,n.jsx)(s.em,{children:"new"})," selector map describing index-based selections."]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Parameter"}),(0,n.jsx)(s.th,{children:"Type"}),(0,n.jsx)(s.th,{children:"Default value"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"shape"})}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:"number"}),"[]"]}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"undefined"})}),(0,n.jsx)(s.td,{children:"Full array shape."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"dataSlice"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.a,{href:"/zarr-cesium/docs/docs/api/interfaces/DataSliceProps",children:(0,n.jsx)(s.code,{children:"DataSliceProps"})})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"undefined"})}),(0,n.jsxs)(s.td,{children:["Pixel-space slice ranges ",(0,n.jsx)(s.code,{children:"{ startX, endX, startY, endY, startElevation?, endElevation? }"})," (see ",(0,n.jsx)(s.a,{href:"/zarr-cesium/docs/docs/api/interfaces/DataSliceProps",children:"DataSliceProps"}),")."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"dimIndices"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.a,{href:"/zarr-cesium/docs/docs/api/interfaces/DimIndicesProps",children:(0,n.jsx)(s.code,{children:"DimIndicesProps"})})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"undefined"})}),(0,n.jsxs)(s.td,{children:["Mapping of dimension names \u2192 indices as returned by ",(0,n.jsx)(s.code,{children:"identifyDimensionIndices"})," (see ",(0,n.jsx)(s.a,{href:"/zarr-cesium/docs/docs/api/interfaces/DimIndicesProps",children:"DimIndicesProps"}),")."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"selectors"})}),(0,n.jsxs)(s.td,{children:["{ [",(0,n.jsx)(s.code,{children:"key"}),": ",(0,n.jsx)(s.code,{children:"string"}),"]: ",(0,n.jsx)(s.a,{href:"/zarr-cesium/docs/docs/api/interfaces/ZarrSelectorsProps",children:(0,n.jsx)(s.code,{children:"ZarrSelectorsProps"})}),"; }"]}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"undefined"})}),(0,n.jsxs)(s.td,{children:["User-provided selection map (lat/lon/elevation/time/etc.). See ",(0,n.jsx)(s.a,{href:"/zarr-cesium/docs/docs/api/interfaces/ZarrSelectorsProps",children:"ZarrSelectorsProps"}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"dimensionValues"})}),(0,n.jsxs)(s.td,{children:["{ [",(0,n.jsx)(s.code,{children:"key"}),": ",(0,n.jsx)(s.code,{children:"string"}),"]: ",(0,n.jsx)(s.code,{children:"number"}),"[] | ",(0,n.jsx)(s.code,{children:"Float64Array"}),"<",(0,n.jsx)(s.code,{children:"ArrayBufferLike"}),">; }"]}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"undefined"})}),(0,n.jsx)(s.td,{children:"Cache of already-loaded coordinate arrays (mutated by this function)."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"root"})}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:"Location"}),"<",(0,n.jsx)(s.code,{children:"FetchStore"}),">"]}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"undefined"})}),(0,n.jsx)(s.td,{children:"Root Zarr group location."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"levelInfo"})}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:"string"})," | ",(0,n.jsx)(s.code,{children:"null"})]}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"undefined"})}),(0,n.jsx)(s.td,{children:"Optional multiscale subpath."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"zarrVersion"})}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:"2"})," | ",(0,n.jsx)(s.code,{children:"3"})," | ",(0,n.jsx)(s.code,{children:"null"})]}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"undefined"})}),(0,n.jsx)(s.td,{children:"Zarr version (2 or 3)."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"updateDimensionValues"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"boolean"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"false"})}),(0,n.jsx)(s.td,{children:"If true, rewrites dimensionValues only for the selected ranges."})]})]})]}),"\n",(0,n.jsx)(s.h2,{id:"returns",children:"Returns"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"Promise"}),"<{\n",(0,n.jsx)(s.code,{children:"dimensionValues"}),": {\n[",(0,n.jsx)(s.code,{children:"key"}),": ",(0,n.jsx)(s.code,{children:"string"}),"]: ",(0,n.jsx)(s.code,{children:"number"}),"[] | ",(0,n.jsx)(s.code,{children:"Float64Array"}),"<",(0,n.jsx)(s.code,{children:"ArrayBufferLike"}),">;\n};\n",(0,n.jsx)(s.code,{children:"selectors"}),": {\n[",(0,n.jsx)(s.code,{children:"key"}),": ",(0,n.jsx)(s.code,{children:"string"}),"]: ",(0,n.jsx)(s.a,{href:"/zarr-cesium/docs/docs/api/interfaces/ZarrSelectorsProps",children:(0,n.jsx)(s.code,{children:"ZarrSelectorsProps"})}),";\n};\n",(0,n.jsx)(s.code,{children:"sliceArgs"}),": ",(0,n.jsx)(s.a,{href:"/zarr-cesium/docs/docs/api/type-aliases/SliceArgs",children:(0,n.jsx)(s.code,{children:"SliceArgs"})}),";\n}>"]}),"\n",(0,n.jsx)(s.p,{children:"An object containing:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"sliceArgs"}),": Array of slice objects/indexes matching the array's dimensions. See ",(0,n.jsx)(s.a,{href:"/zarr-cesium/docs/docs/api/type-aliases/SliceArgs",children:"SliceArgs"}),"."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"dimensionValues"}),": Possibly updated coordinate arrays."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"selectors"}),": Updated index-based selectors. See ",(0,n.jsx)(s.a,{href:"/zarr-cesium/docs/docs/api/interfaces/ZarrSelectorsProps",children:"ZarrSelectorsProps"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>d,x:()=>l});var c=r(6540);const n={},i=c.createContext(n);function d(e){const s=c.useContext(i);return c.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),c.createElement(i.Provider,{value:s},e.children)}}}]);